# ETF Helper 작업 계획

## Phase 0: 프로젝트 세팅 (1주차)

### 0-1. 개발 환경 구성
| 태스크 | 설명 | 예상 시간 |
|--------|------|----------|
| 모노레포 구조 생성 | `/frontend`, `/backend` 폴더 분리 | 30분 |
| Next.js 프로젝트 초기화 | `create-next-app` + TypeScript + Tailwind | 30분 |
| FastAPI 프로젝트 초기화 | Poetry/pip + 폴더 구조 세팅 | 30분 |
| Git 저장소 설정 | `.gitignore`, README, 브랜치 전략 | 20분 |
| 환경변수 설정 | `.env.example` 작성 | 15분 |
| shadcn/ui 설치 | UI 컴포넌트 라이브러리 세팅 | 20분 |
| ESLint/Prettier 설정 | 린터/포맷터 설정 | 20분 |
| Ruff 설정 | Python 린터 설정 | 15분 |

### 0-2. 데이터베이스 설계
| 태스크 | 설명 | 예상 시간 |
|--------|------|----------|
| Supabase 프로젝트 생성 | PostgreSQL 인스턴스 생성 | 15분 |
| 테이블 스키마 작성 | etfs, etf_prices, portfolios | 1시간 |
| SQLAlchemy 모델 정의 | Python ORM 모델 작성 | 1시간 |

### 0-3. 데이터 수집 파이프라인
| 태스크 | 설명 | 예상 시간 |
|--------|------|----------|
| pykrx 연동 테스트 | ETF 목록/시세 수집 확인 | 1시간 |
| ETF 기본정보 수집 스크립트 | 전체 ETF 메타데이터 저장 | 2시간 |
| 가격 히스토리 수집 스크립트 | 일봉 데이터 저장 | 2시간 |
| 스케줄러 설정 | 매일 자동 업데이트 (선택) | 1시간 |

---

## Phase 1: ETF 목록/검색 (2주차)

### 1-1. 백엔드 API
| 태스크 | 설명 | 예상 시간 |
|--------|------|----------|
| FastAPI 기본 구조 | 라우터, 의존성 주입 세팅 | 1시간 |
| `GET /api/etfs` | 목록 조회 (페이지네이션) | 2시간 |
| 필터링 기능 | 카테고리, 운용사, 수익률 범위 | 2시간 |
| 검색 기능 | 이름/코드 키워드 검색 | 1시간 |
| 정렬 기능 | 수익률, 거래량, 순자산 기준 | 1시간 |

### 1-2. 프론트엔드 UI
| 태스크 | 설명 | 예상 시간 |
|--------|------|----------|
| 레이아웃 컴포넌트 | Header, Footer, Navigation | 2시간 |
| ETF 카드 컴포넌트 | 이름, 수익률, 카테고리 표시 | 1시간 |
| 목록 페이지 | `/etfs` 페이지 + 무한스크롤 | 3시간 |
| 검색/필터 UI | 검색바 + 필터 드롭다운 | 2시간 |
| API 연동 | Tanstack Query 설정 | 1시간 |

---

## Phase 2: ETF 상세 정보 (3주차)

### 2-1. 백엔드 API
| 태스크 | 설명 | 예상 시간 |
|--------|------|----------|
| `GET /api/etfs/{code}` | 상세 정보 조회 | 1시간 |
| `GET /api/etfs/{code}/prices` | 가격 히스토리 | 2시간 |
| `GET /api/etfs/{code}/holdings` | 구성종목 TOP 10 | 2시간 |
| 수익률 계산 로직 | 1M, 3M, 6M, 1Y 수익률 | 2시간 |

### 2-2. 프론트엔드 UI
| 태스크 | 설명 | 예상 시간 |
|--------|------|----------|
| 상세 페이지 레이아웃 | `/etfs/[code]` 기본 구조 | 1시간 |
| 기본 정보 섹션 | 운용사, 상장일, 총보수 등 | 1시간 |
| 수익률 차트 | Recharts 라인 차트 | 3시간 |
| 기간 선택 탭 | 1M/3M/6M/1Y 토글 | 1시간 |
| 구성종목 테이블 | 종목명, 비중 표시 | 2시간 |

---

## Phase 3: 포트폴리오 (4주차)

### 3-1. 백엔드 API
| 태스크 | 설명 | 예상 시간 |
|--------|------|----------|
| `GET /api/portfolio` | 포트폴리오 조회 | 1시간 |
| `POST /api/portfolio` | ETF 추가 | 1시간 |
| `PUT /api/portfolio/{id}` | ETF 수정 | 1시간 |
| `DELETE /api/portfolio/{id}` | ETF 삭제 | 30분 |
| 수익률 계산 API | 총 평가금액, 수익률 | 2시간 |

### 3-2. 프론트엔드 UI
| 태스크 | 설명 | 예상 시간 |
|--------|------|----------|
| 포트폴리오 페이지 | `/portfolio` 기본 구조 | 1시간 |
| ETF 추가 모달 | 종목 검색 + 수량/매수가 입력 | 2시간 |
| 보유 ETF 리스트 | 수익률 표시 + 수정/삭제 | 2시간 |
| 총 자산 요약 카드 | 총 투자금, 평가금, 수익률 | 1시간 |
| 자산 배분 파이차트 | Recharts 파이 차트 | 2시간 |
| Zustand 스토어 | 포트폴리오 상태 관리 | 1시간 |
| localStorage 연동 | 비로그인 사용자 데이터 저장 | 1시간 |

---

## Phase 4: 마무리 (5주차)

### 4-1. 배포
| 태스크 | 설명 | 예상 시간 |
|--------|------|----------|
| Vercel 배포 설정 | 프론트엔드 배포 | 30분 |
| Railway/Render 배포 | 백엔드 배포 | 1시간 |
| 환경변수 설정 | 프로덕션 환경 변수 | 30분 |
| 도메인 연결 (선택) | 커스텀 도메인 설정 | 30분 |
| Sentry 설정 | 에러 모니터링 | 1시간 |

### 4-2. QA 및 문서화
| 태스크 | 설명 | 예상 시간 |
|--------|------|----------|
| 크로스 브라우저 테스트 | Chrome, Safari, Mobile | 2시간 |
| 버그 수정 | QA 중 발견된 이슈 해결 | 3시간 |
| README 작성 | 프로젝트 소개, 실행 방법 | 1시간 |
| API 문서화 | FastAPI Swagger 정리 | 1시간 |

---

## 전체 요약

| Phase | 기간 | 주요 결과물 |
|-------|------|------------|
| **Phase 0** | 1주차 | 프로젝트 세팅, DB 설계, 데이터 수집 |
| **Phase 1** | 2주차 | ETF 목록/검색 기능 완성 |
| **Phase 2** | 3주차 | ETF 상세 페이지 완성 |
| **Phase 3** | 4주차 | 포트폴리오 기능 완성 |
| **Phase 4** | 5주차 | 배포 및 마무리 |

**총 예상 작업 시간: 약 55-60시간**

---

## 체크리스트

### Phase 0
- [ ] 모노레포 구조 생성
- [ ] Next.js 프로젝트 초기화
- [ ] FastAPI 프로젝트 초기화
- [ ] 린터/포맷터 설정
- [ ] Supabase DB 생성
- [ ] 테이블 스키마 작성
- [ ] pykrx 데이터 수집 테스트
- [ ] ETF 데이터 초기 적재

### Phase 1
- [ ] ETF 목록 API 구현
- [ ] 필터/검색/정렬 API 구현
- [ ] 레이아웃 컴포넌트 작성
- [ ] ETF 목록 페이지 구현
- [ ] 검색/필터 UI 구현

### Phase 2
- [ ] ETF 상세 API 구현
- [ ] 가격 히스토리 API 구현
- [ ] 상세 페이지 레이아웃
- [ ] 수익률 차트 구현
- [ ] 구성종목 테이블 구현

### Phase 3
- [ ] 포트폴리오 CRUD API 구현
- [ ] Zustand 스토어 작성
- [ ] 포트폴리오 페이지 구현
- [ ] ETF 추가 모달 구현
- [ ] 자산 배분 차트 구현

### Phase 4
- [ ] Vercel 배포
- [ ] Backend 배포
- [ ] Sentry 설정
- [ ] QA 및 버그 수정
- [ ] 문서화
